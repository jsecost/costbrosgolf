<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Country Club Theme Builder</title>
  <link rel="icon" type="image/svg+xml" href="/minilogo.svg">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Spectral:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Montserrat', sans-serif;
      background: #f5f5f5;
    }

    /* Landing Page */
    .landing {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
      background: #322c1e;
    }

    .landing-logo {
      width: 600px;
      height: auto;
      margin-bottom: 40px;
    }

    .upload-container {
      background: white;
      border-radius: 16px;
      padding: 40px;
      width: 100%;
      max-width: 600px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
    }

    .upload-section {
      margin-bottom: 30px;
    }

    .upload-section label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: #333;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    .upload-box {
      border: 2px dashed #ddd;
      border-radius: 12px;
      padding: 30px;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s ease;
      background: #fafafa;
    }

    .upload-box:hover {
      border-color: #667eea;
      background: #f0f4ff;
      transform: translateY(-2px);
    }

    .upload-box.has-file {
      border-color: #667eea;
      background: #f0f4ff;
    }

    input[type="file"] {
      display: none;
    }

    input[type="text"] {
      width: 100%;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-family: 'Montserrat', sans-serif;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    input[type="text"]:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    textarea {
      transition: all 0.3s ease;
    }

    textarea:focus {
      outline: none;
      border-color: #667eea !important;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    select {
      width: 100%;
      padding: 15px;
      border: 2px solid #e0e0e0;
      border-radius: 12px;
      font-family: 'Montserrat', sans-serif;
      font-size: 16px;
      cursor: pointer;
      background: white;
      transition: all 0.3s ease;
    }

    select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .generate-btn {
      width: 100%;
      padding: 18px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-family: 'Montserrat', sans-serif;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 20px;
    }

    .generate-btn:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
    }

    .generate-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    /* Preview Page */
    .preview-page {
      display: none;
      height: 100vh;
      background: white;
      padding: 20px;
      overflow: hidden;
      position: relative;
    }

    .preview-page.active {
      display: block;
    }

    .back-btn-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 150px;
      height: 150px;
      z-index: 2000;
      cursor: pointer;
    }

    .back-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      padding: 12px 30px;
      background: rgba(51, 51, 51, 0.9);
      color: white;
      border: none;
      border-radius: 8px;
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      opacity: 0;
      pointer-events: none;
    }

    .back-btn-container:hover .back-btn {
      opacity: 1;
      pointer-events: auto;
    }

    .back-btn:hover {
      background: rgba(85, 85, 85, 0.95);
      transform: translateY(-2px);
    }

    .preview-container {
      display: flex;
      gap: 40px;
      max-width: fit-content;
      margin: 0 auto;
      align-items: center;
      justify-content: center;
      height: 100%;
      overflow: hidden;
    }

    .preview-wrapper {
      position: relative;
      height: 90vh;
      display: flex;
      flex-direction: column;
    }

    .preview-label {
      text-align: center;
      font-weight: 600;
      margin-bottom: 15px;
      color: #666;
      text-transform: uppercase;
      letter-spacing: 1px;
      font-size: 12px;
    }

    .desktop-preview {
      width: 65vw;
      flex: 1;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      background: white;
      position: relative;
    }

    .mobile-preview {
      width: 22vw;
      min-width: 300px;
      max-width: 400px;
      flex: 1;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 20px 60px rgba(0,0,0,0.15);
      background: white;
      position: relative;
    }

    .preview-content {
      height: 100%;
      overflow-y: auto;
      overflow-x: hidden;
      position: relative;
    }

    .preview-content::-webkit-scrollbar {
      width: 6px;
    }

    .preview-content::-webkit-scrollbar-track {
      background: #f1f1f1;
    }

    .preview-content::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 3px;
    }

    /* Hero Section */
    .hero {
      position: relative;
      height: 100vh;
      overflow: hidden;
    }

    .mobile-preview .hero {
      height: 70vh;
    }

    .hero-media {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .hero-media.video {
      filter: blur(3px);
    }

    .hero-overlay {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.3);
    }

    /* Navbar */
    .navbar {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      transition: all 0.3s ease;
      padding: 20px 40px;
    }

    .mobile-preview .navbar {
      padding: 15px 20px;
    }

    .navbar.scrolled {
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 20px rgba(0,0,0,0.1);
    }

    .navbar-content {
      display: flex;
      align-items: center;
      justify-content: space-between;
      max-width: 1400px;
      margin: 0 auto;
    }

    .navbar-logo {
      height: 50px;
      transition: all 0.3s ease;
    }

    .mobile-preview .navbar-logo {
      height: 35px;
    }

    .navbar.scrolled .navbar-logo {
      filter: brightness(0);
    }

    .nav-links {
      display: flex;
      gap: 30px;
      list-style: none;
    }

    .mobile-preview .nav-links {
      display: none;
    }

    .nav-links a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      position: relative;
    }

    .navbar.scrolled .nav-links a {
      color: #333;
    }

    .nav-links a:hover {
      opacity: 0.7;
    }

    .nav-links a::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 0;
      height: 2px;
      background: currentColor;
      transition: width 0.3s ease;
    }

    .nav-links a:hover::after {
      width: 100%;
    }

    /* Hamburger */
    .hamburger {
      display: none;
      flex-direction: column;
      gap: 5px;
      cursor: pointer;
      padding: 5px;
    }

    .mobile-preview .hamburger {
      display: flex;
    }

    .hamburger span {
      width: 25px;
      height: 2px;
      background: white;
      transition: all 0.3s ease;
    }

    .navbar.scrolled .hamburger span {
      background: #333;
    }

    /* Hero Content */
    .hero-content {
      position: relative;
      z-index: 10;
      height: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: white;
      text-align: center;
      padding: 0 40px;
    }

    .mobile-preview .hero-content {
      padding: 0 20px;
    }

    .hero-title {
      font-size: 60px;
      font-weight: 700;
      margin-bottom: 20px;
      text-shadow: 0 4px 20px rgba(0,0,0,0.3);
    }

    .mobile-preview .hero-title {
      font-size: 32px;
    }

    .hero-subtitle {
      font-size: 20px;
      font-weight: 300;
      margin-bottom: 40px;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }

    .mobile-preview .hero-subtitle {
      font-size: 16px;
    }

    .learn-more-btn {
      padding: 15px 40px;
      background: white;
      color: #333;
      border: none;
      border-radius: 50px;
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
      font-size: 14px;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }

    .learn-more-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 30px rgba(0,0,0,0.3);
    }

    /* History Section */
    .history-section {
      padding: 100px 40px;
      background: white;
    }

    .mobile-preview .history-section {
      padding: 60px 20px;
    }

    .history-content {
      max-width: 1000px;
      margin: 0 auto;
    }

    .history-title {
      font-size: 48px;
      font-weight: 700;
      margin-bottom: 30px;
      text-align: center;
    }

    .mobile-preview .history-title {
      font-size: 28px;
    }

    .history-text {
      font-size: 18px;
      line-height: 1.8;
      color: #555;
      margin-bottom: 20px;
    }

    .mobile-preview .history-text {
      font-size: 16px;
    }

    /* Floating CTA Button */
    .floating-cta {
      position: absolute;
      bottom: 30px;
      right: 30px;
      padding: 18px 35px;
      border: none;
      border-radius: 50px;
      font-family: 'Montserrat', sans-serif;
      font-weight: 600;
      font-size: 16px;
      text-transform: uppercase;
      letter-spacing: 1px;
      cursor: pointer;
      transition: all 0.3s ease;
      z-index: 999;
      box-shadow: 0 6px 25px rgba(0,0,0,0.3);
    }

    .floating-cta:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 35px rgba(0,0,0,0.4);
    }

    .mobile-preview .floating-cta {
      bottom: 20px;
      right: 20px;
      padding: 12px 25px;
      font-size: 14px;
    }

    /* Theme Specific Styles */
    .theme-old-allister {
      font-family: 'Spectral', serif;
    }

    .theme-old-allister .navbar.scrolled {
      background: rgba(20, 30, 20, 0.95);
    }

    .theme-old-allister .navbar.scrolled .nav-links a {
      color: white;
    }

    .theme-old-allister .navbar.scrolled .navbar-logo {
      filter: brightness(1);
    }

    .theme-old-allister .navbar.scrolled .hamburger span {
      background: white;
    }

    .theme-old-allister .learn-more-btn {
      background: rgba(255,255,255,0.1);
      color: white;
      border: 2px solid white;
      font-family: 'Spectral', serif;
    }

    .theme-old-allister .history-section {
      background: #f8f7f4;
    }

    .theme-old-allister .floating-cta {
      background: rgba(255,255,255,0.95);
      color: #1a2a1a;
      border: 2px solid #1a2a1a;
      font-family: 'Spectral', serif;
    }

    .theme-fairway-current {
      font-family: 'Montserrat', sans-serif;
    }

    .theme-fairway-current .navbar.scrolled {
      background: rgba(255,255,255,0.98);
    }

    .theme-fairway-current .hero-overlay {
      background: linear-gradient(135deg, rgba(0,150,136,0.3), rgba(0,188,212,0.3));
    }

    .theme-fairway-current .learn-more-btn {
      background: linear-gradient(135deg, #00968f, #00bcd4);
      color: white;
      font-family: 'Montserrat', sans-serif;
    }

    .theme-fairway-current .floating-cta {
      background: linear-gradient(135deg, #00968f, #00bcd4);
      color: white;
      font-family: 'Montserrat', sans-serif;
    }

    .theme-bridgewood {
      font-family: 'Montserrat', sans-serif;
    }

    .theme-bridgewood .navbar.scrolled {
      background: rgba(40, 40, 40, 0.95);
    }

    .theme-bridgewood .navbar.scrolled .nav-links a {
      color: #d4af37;
    }

    .theme-bridgewood .navbar.scrolled .hamburger span {
      background: #d4af37;
    }

    .theme-bridgewood .hero-overlay {
      background: linear-gradient(to bottom, rgba(40,40,40,0.4), rgba(212,175,55,0.2));
    }

    .theme-bridgewood .learn-more-btn {
      background: #d4af37;
      color: #333;
      font-family: 'Montserrat', sans-serif;
    }

    @media (max-width: 1200px) {
      .preview-container {
        flex-direction: column;
      }

      .mobile-preview {
        max-width: 300px;
      }
    }

    @media (max-width: 768px) {
      .landing {
        padding: 20px;
      }

      .upload-container {
        padding: 20px;
      }

      .nav-links {
        gap: 20px;
      }

      .nav-links a {
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="landing" id="landing">
    <img src="/full_logo.svg" alt="Logo" class="landing-logo">
    <div class="upload-container">
      <div class="upload-section">
        <label>Hero Media (Image or Video)</label>
        <div class="upload-box" id="heroMediaBox">
          <div id="heroMediaText">Click to upload image or MP4</div>
        </div>
        <input type="file" id="heroMedia" accept="image/*,video/mp4">
      </div>

      <div class="upload-section">
        <label>Logo</label>
        <div class="upload-box" id="logoMediaBox">
          <div id="logoMediaText">Click to upload logo</div>
        </div>
        <input type="file" id="logoMedia" accept="image/*">
      </div>

      <div class="upload-section">
        <label>Club Name</label>
        <input type="text" id="clubName" value="Haleyville Country Club">
      </div>

      <div class="upload-section">
        <label>Hero Byline</label>
        <input type="text" id="heroByline" value="Since 1954">
      </div>

      <div class="upload-section">
        <label>Section Title</label>
        <input type="text" id="sectionTitle" value="A Legacy of Excellence">
      </div>

      <div class="upload-section">
        <label>Section Text</label>
        <textarea id="sectionText" rows="4" style="width: 100%; padding: 15px; border: 2px solid #e0e0e0; border-radius: 12px; font-family: 'Montserrat', sans-serif; font-size: 16px; resize: vertical;">Not far from Haleyville, Haleyville Country Club offers terrific views and challenging play for golfers at every skill level. Well-groomed fairways and greens keep Haleyville Country Club difficult yet friendly, and the staff can offer tips and tricks for playing your best round. Haleyville Country Club is a terrific choice for your regular rounds of golf or a new destination for you and friends when visiting Haleyville.</textarea>
      </div>

      <div class="upload-section">
        <label>Theme</label>
        <select id="themeSelect">
          <option value="">Select a theme</option>
          <option value="old-allister" selected>Old Allister</option>
          <option value="fairway-current">Fairway Current</option>
          <option value="bridgewood">The Bridgewood</option>
        </select>
      </div>

      <button class="generate-btn" id="generateBtn" disabled>Generate Preview</button>
    </div>
  </div>

  <div class="preview-page" id="previewPage">
    <div class="back-btn-container">
      <button class="back-btn" onclick="goBack()">← Back to Editor</button>
    </div>
    <div class="preview-container">
      <div class="preview-wrapper">
        <div class="preview-label">Desktop Preview</div>
        <div class="desktop-preview">
          <div class="preview-content" id="desktopContent"></div>
        </div>
      </div>
      <div class="preview-wrapper">
        <div class="preview-label">Mobile Preview</div>
        <div class="mobile-preview">
          <div class="preview-content" id="mobileContent"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const content = {
      'old-allister': {
        subtitle: 'Est. 1892 • A Tradition of Excellence',
        navItems: ['History', 'Events', 'Login', 'Membership', 'Staff'],
        history: {
          title: 'Our Distinguished History',
          paragraphs: [
            'Founded in 1892, Old Allister has maintained its reputation as one of the most prestigious private clubs in the nation. Our storied grounds have witnessed over a century of tradition, elegance, and exceptional service.',
            'From our meticulously maintained grounds to our world-class amenities, every detail reflects our commitment to preserving the timeless values that have defined Old Allister for generations.',
            'Our members enjoy an atmosphere of refined sophistication, where legacy meets modern luxury in perfect harmony.'
          ]
        }
      },
      'fairway-current': {
        subtitle: 'Modern Golf. Timeless Experience.',
        navItems: ['Golf', 'Events', 'History', 'Course', 'Staff'],
        history: {
          title: 'Innovation Meets Tradition',
          paragraphs: [
            'Fairway Current represents the evolution of golf club excellence. Opened in 2015, we blend cutting-edge technology with the natural beauty of championship golf.',
            'Our award-winning course features state-of-the-art irrigation systems, GPS-enabled carts, and precision-maintained greens that challenge players of all skill levels.',
            'Experience golf reimagined for the modern era while honoring the spirit of the game.'
          ]
        }
      },
      'bridgewood': {
        subtitle: 'Where Heritage Meets Modern Luxury',
        navItems: ['Golf', 'Events', 'History', 'Course', 'Login', 'Staff'],
        history: {
          title: 'The Bridgewood Legacy',
          paragraphs: [
            'Established in 1978, The Bridgewood bridges the gap between classic country club tradition and contemporary amenities. Our championship course winds through 200 acres of pristine woodland.',
            'The Bridgewood offers members an exclusive retreat combining world-class golf, fine dining, and premium facilities in an atmosphere of understated elegance.',
            'Our commitment to excellence has earned us recognition as one of the premier golf destinations in the region.'
          ]
        }
      }
    };

    let heroMediaURL = '/example/haleyvillecc.webp';
    let logoMediaURL = '/example/haleyvillecc.png';
    let clubName = 'Haleyville Country Club';
    let heroByline = 'Since 1954';
    let sectionTitle = 'A Legacy of Excellence';
    let sectionText = "Not far from Haleyville, Haleyville Country Club offers terrific views and challenging play for golfers at every skill level. Well-groomed fairways and greens keep Haleyville Country Club difficult yet friendly, and the staff can offer tips and tricks for playing your best round. Haleyville Country Club is a terrific choice for your regular rounds of golf or a new destination for you and friends when visiting Haleyville.";
    let selectedTheme = 'old-allister';

    // Initialize default state
    document.getElementById('heroMediaText').textContent = 'haleyvillecc.webp (default)';
    const heroUploadBox = document.getElementById('heroMediaBox');
    heroUploadBox.classList.add('has-file');
    document.getElementById('logoMediaText').textContent = 'haleyvillecc.png (default)';
    const logoUploadBox = document.getElementById('logoMediaBox');
    logoUploadBox.classList.add('has-file');
    checkFormComplete();

    // Add click handlers for upload boxes
    document.getElementById('heroMediaBox').addEventListener('click', function() {
      document.getElementById('heroMedia').click();
    });

    document.getElementById('logoMediaBox').addEventListener('click', function() {
      document.getElementById('logoMedia').click();
    });

    // Add focus handlers to select all text when clicked
    document.getElementById('clubName').addEventListener('focus', function() {
      this.select();
    });
    document.getElementById('heroByline').addEventListener('focus', function() {
      this.select();
    });
    document.getElementById('sectionTitle').addEventListener('focus', function() {
      this.select();
    });
    document.getElementById('sectionText').addEventListener('focus', function() {
      this.select();
    });

    document.getElementById('heroMedia').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        heroMediaURL = URL.createObjectURL(file);
        document.getElementById('heroMediaText').textContent = file.name;
        document.getElementById('heroMediaBox').classList.add('has-file');
        checkFormComplete();
      }
    });

    document.getElementById('logoMedia').addEventListener('change', function(e) {
      const file = e.target.files[0];
      if (file) {
        logoMediaURL = URL.createObjectURL(file);
        document.getElementById('logoMediaText').textContent = file.name;
        document.getElementById('logoMediaBox').classList.add('has-file');
        checkFormComplete();
      }
    });

    document.getElementById('clubName').addEventListener('input', function(e) {
      clubName = e.target.value;
      checkFormComplete();
    });

    document.getElementById('heroByline').addEventListener('input', function(e) {
      heroByline = e.target.value;
      checkFormComplete();
    });

    document.getElementById('sectionTitle').addEventListener('input', function(e) {
      sectionTitle = e.target.value;
      checkFormComplete();
    });

    document.getElementById('sectionText').addEventListener('input', function(e) {
      sectionText = e.target.value;
      checkFormComplete();
    });

    document.getElementById('themeSelect').addEventListener('change', function(e) {
      selectedTheme = e.target.value;
      checkFormComplete();
    });

    function checkFormComplete() {
      const isComplete = heroMediaURL && logoMediaURL && clubName && heroByline && sectionTitle && sectionText && selectedTheme;
      document.getElementById('generateBtn').disabled = !isComplete;
    }

    document.getElementById('generateBtn').addEventListener('click', function() {
      generatePreview();
    });

    function generatePreview() {
      const themeData = content[selectedTheme];
      // Check if it's a video - either from file upload or default path
      const uploadedFile = document.getElementById('heroMedia').files[0];
      const isVideo = uploadedFile ? uploadedFile.type.startsWith('video/') : heroMediaURL.endsWith('.mp4');

      // Determine floating CTA text based on theme
      let floatingCtaText = '';
      if (selectedTheme === 'old-allister') {
        floatingCtaText = 'Inquire';
      } else if (selectedTheme === 'fairway-current') {
        floatingCtaText = 'Book Time';
      }

      const previewHTML = `
        <nav class="navbar" id="navbar">
          <div class="navbar-content">
            <img src="${logoMediaURL}" alt="Logo" class="navbar-logo">
            <ul class="nav-links">
              ${themeData.navItems.map(item => `<li><a href="#">${item}</a></li>`).join('')}
            </ul>
            <div class="hamburger">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>
        </nav>

        <section class="hero">
          ${isVideo ?
            `<video class="hero-media video" autoplay loop muted playsinline><source src="${heroMediaURL}" type="video/mp4"></video>` :
            `<img src="${heroMediaURL}" alt="Hero" class="hero-media">`
          }
          <div class="hero-overlay"></div>
          <div class="hero-content">
            <h1 class="hero-title">${clubName}</h1>
            <p class="hero-subtitle">${heroByline}</p>
            ${selectedTheme === 'old-allister' ? '<button class="learn-more-btn" onclick="this.closest(\'.preview-content\').scrollTo({top: window.innerHeight, behavior: \'smooth\'})">Learn More</button>' : ''}
          </div>
        </section>

        <section class="history-section">
          <div class="history-content">
            <h2 class="history-title">${sectionTitle}</h2>
            <p class="history-text">${sectionText}</p>
          </div>
        </section>
      `;

      // Clear existing floating CTA buttons
      const desktopPreview = document.querySelector('.desktop-preview');
      const mobilePreview = document.querySelector('.mobile-preview');
      const existingDesktopCta = desktopPreview.querySelector('.floating-cta');
      const existingMobileCta = mobilePreview.querySelector('.floating-cta');
      if (existingDesktopCta) existingDesktopCta.remove();
      if (existingMobileCta) existingMobileCta.remove();

      // Apply theme classes to preview containers
      desktopPreview.className = `desktop-preview theme-${selectedTheme}`;
      mobilePreview.className = `mobile-preview theme-${selectedTheme}`;

      document.getElementById('desktopContent').innerHTML = previewHTML;
      document.getElementById('desktopContent').className = `preview-content theme-${selectedTheme}`;

      document.getElementById('mobileContent').innerHTML = previewHTML;
      document.getElementById('mobileContent').className = `preview-content theme-${selectedTheme}`;

      // Add floating CTA buttons outside of scrolling content
      if (floatingCtaText) {
        const desktopCta = document.createElement('button');
        desktopCta.className = 'floating-cta';
        desktopCta.textContent = floatingCtaText;
        desktopPreview.appendChild(desktopCta);

        const mobileCta = document.createElement('button');
        mobileCta.className = 'floating-cta';
        mobileCta.textContent = floatingCtaText;
        mobilePreview.appendChild(mobileCta);
      }

      document.getElementById('landing').style.display = 'none';
      document.getElementById('previewPage').classList.add('active');

      setupScrollSync();
      setupNavbarScroll('desktopContent');
      setupNavbarScroll('mobileContent');
    }

    function setupScrollSync() {
      const desktop = document.getElementById('desktopContent');
      const mobile = document.getElementById('mobileContent');
      let isSyncing = false;

      desktop.addEventListener('scroll', function() {
        if (!isSyncing) {
          isSyncing = true;
          const scrollPercentage = this.scrollTop / (this.scrollHeight - this.clientHeight);
          mobile.scrollTop = scrollPercentage * (mobile.scrollHeight - mobile.clientHeight);
          setTimeout(() => isSyncing = false, 10);
        }
      });

      mobile.addEventListener('scroll', function() {
        if (!isSyncing) {
          isSyncing = true;
          const scrollPercentage = this.scrollTop / (this.scrollHeight - this.clientHeight);
          desktop.scrollTop = scrollPercentage * (desktop.scrollHeight - desktop.clientHeight);
          setTimeout(() => isSyncing = false, 10);
        }
      });
    }

    function setupNavbarScroll(contentId) {
      const content = document.getElementById(contentId);
      const navbar = content.querySelector('.navbar');

      content.addEventListener('scroll', function() {
        if (this.scrollTop > 50) {
          navbar.classList.add('scrolled');
        } else {
          navbar.classList.remove('scrolled');
        }
      });
    }

    function goBack() {
      document.getElementById('landing').style.display = 'flex';
      document.getElementById('previewPage').classList.remove('active');
    }
  </script>
</body>
</html>